
= jQuery 작동 방식

== jQuery: 기초

이는 jQuery 사용을 시작하는 데 도움을 주기 위한 기본 튜토리얼입니다. 아직 테스트 페이지를 설정하지 않았다면, 다음 HTML 페이지를 만들어 시작하세요:

[source,html]
----
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Demo</title>
</head>
<body>
    <a href="http://jquery.com/">jQuery</a>
    <script src="jquery.js"></script>
    <script>
 
    // 여기에 코드를 작성하세요.
 
    </script>
</body>
</html>
----

``<script>`` 요소의 ``src`` 속성은 jQuery 사본을 가리켜야 합니다. jQuery 다운로드 페이지에서 jQuery 사본을 다운로드하고 ``jquery.js`` 파일을 HTML 파일과 같은 디렉토리에 저장하세요.

NOTE: jQuery를 다운로드할 때 파일 이름에 버전 번호가 포함될 수 있습니다(예: ``jquery-x.y.z.js``). 이 파일의 이름을 ``jquery.js``로 바꾸거나 ``<script>`` 요소의 ``src`` 속성을 파일 이름과 일치하도록 업데이트하세요.

== 문서 준비 시 코드 실행하기

많은 JavaScript 프로그래머들은 브라우저가 문서 로딩을 완료한 후 코드가 실행되도록 하기 위해 코드를 onload 함수로 감싸곤 합니다:

[source,js]
----
window.onload = function() {
 
    alert( "환영합니다" );
 
};
----

안타깝게도, 이 코드는 배너 광고를 포함한 모든 이미지가 다운로드될 때까지 실행되지 않습니다. 문서가 조작 가능한 상태가 되자마자 코드를 실행하기 위해, jQuery는 ready 이벤트로 알려진 구문을 제공합니다:

[source,js]
----
$( document ).ready(function() {
 
    // 여기에 코드를 작성하세요.
 
});
----

NOTE: jQuery 라이브러리는 window 객체의 jQuery와 $ 두 속성을 통해 메서드와 속성을 노출합니다. $는 단순히 jQuery의 별칭이며, 더 짧고 빠르게 작성할 수 있어 자주 사용됩니다.

예를 들어, ready 이벤트 내에서 링크에 클릭 핸들러를 추가할 수 있습니다:

[source,js]
----
$( document ).ready(function() {
 
    $( "a" ).click(function( event ) {
 
        alert( "방문해 주셔서 감사합니다!" );
 
    });
 
});
----

위의 jQuery 코드를 HTML 파일의 ``// 여기에 코드를 작성하세요`` 부분에 복사하세요. 그런 다음 HTML 파일을 저장하고 브라우저에서 테스트 페이지를 새로고침하세요. 이제 링크를 클릭하면 먼저 알림 팝업이 표시된 후, link:[http://jquery.com]으로 이동하는 기본 동작이 계속됩니다.

``click`` 및 대부분의 다른 이벤트에 대해, 이벤트 핸들러에서 ``event.preventDefault()``를 호출하여 기본 동작을 방지할 수 있습니다:

[source,javascript]
----
$( document ).ready(function() {
 
    $( "a" ).click(function( event ) {
 
        alert( "보시다시피, 링크가 더 이상 jquery.com으로 이동하지 않습니다" );
 
        event.preventDefault();
 
    });
 
});
----

이전에 HTML 파일에 복사했던 첫 번째 jQuery 코드 스니펫을 위의 코드로 교체해 보세요. HTML 파일을 다시 저장하고 새로고침하여 시도해 보세요.

== 완전한 예제

다음 예제는 위에서 논의한 클릭 처리 코드를 보여주며, HTML ``<body>`` 내에 직접 포함되어 있습니다. 실제로는 일반적으로 코드를 별도의 JS 파일에 배치하고 ``<script>`` 요소의 ``src`` 속성으로 페이지에 로드하는 것이 더 좋습니다.

[source,html]
----
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Demo</title>
</head>
<body>
    <a href="http://jquery.com/">jQuery</a>
    <script src="jquery.js"></script>
    <script>
 
    $( document ).ready(function() {
        $( "a" ).click(function( event ) {
            alert( "The link will no longer take you to jquery.com" );
            event.preventDefault();
        });
    });
 
    </script>
</body>
</html>
----

== HTML 클래스 추가 및 제거

IMPORTANT: 남은 jQuery 예제들을 문서가 작업 준비가 되었을 때 코드가 실행되도록 ``ready`` 이벤트 내에 배치해야 합니다.

또 다른 일반적인 작업은 클래스를 추가하거나 제거하는 것입니다.

먼저, 문서의 ``<head>``에 다음과 같은 스타일 정보를 추가하세요:

[source,html]
----
<style>
a.test {
    font-weight: bold;
}
</style>
----

다음으로, 스크립트에 ``.addClass() ``호출을 추가하세요:

[source,javascript]
----
$( "a" ).addClass( "test" );
----

이제 모든 ``<a>`` 요소가 굵게 표시됩니다.

기존 클래스를 제거하려면 ``.removeClass()``를 사용하세요:

[source,javascript]
----
$( "a" ).removeClass( "test" );
----

== 특수 효과

jQuery는 또한 웹 사이트를 돋보이게 만드는 데 도움이 되는 몇 가지 편리한 효과를 제공합니다. 예를 들어, 다음과 같은 클릭 핸들러를 만들면:

[source,javascript]
----
$( "a" ).click(function( event ) {
 
    event.preventDefault();
 
    $( this ).hide( "slow" );
 
});
----

클릭 시 링크가 천천히 사라집니다.

== 콜백과 함수

다른 많은 프로그래밍 언어와 달리, JavaScript는 함수를 자유롭게 전달하여 나중에 실행할 수 있게 합니다. 콜백은 다른 함수에 인수로 전달되는 함수로, 부모 함수가 완료된 후 실행됩니다. 콜백은 부모가 완료될 때까지 인내심 있게 실행을 기다리기 때문에 특별합니다. 그 동안 브라우저는 다른 함수를 실행하거나 다른 모든 종류의 작업을 수행할 수 있습니다.

콜백을 사용하려면 부모 함수에 어떻게 전달하는지 아는 것이 중요합니다.

=== 인수 없는 콜백

콜백에 인수가 없다면 다음과 같이 전달할 수 있습니다:

[source,javascript]
----
$.get( "myhtmlpage.html", myCallBack );
----

``$.get()``이 ``myhtmlpage.html`` 페이지를 가져오기를 완료하면 ``myCallBack()`` 함수를 실행합니다.

NOTE: 여기서 두 번째 매개변수는 단순히 함수 이름입니다(문자열이 아니며, 괄호도 없습니다).

=== 인수가 있는 콜백

인수가 있는 콜백을 실행하는 것은 까다로울 수 있습니다.

==== 잘못된 방법

이 코드 예제는 작동하지 않습니다:

[source,javascript]
----
$.get( "myhtmlpage.html", myCallBack( param1, param2 ) );
----

이 방법이 실패하는 이유는 코드가 즉시 ``myCallBack( param1, param2 )``를 실행하고 ``myCallBack()``의 반환 값을 ``$.get()``의 두 번째 매개변수로 전달하기 때문입니다. 우리가 실제로 원하는 것은 ``myCallBack()`` 함수를 전달하는 것이지, ``myCallBack( param1, param2 )``의 반환 값(함수일 수도 있고 아닐 수도 있음)을 전달하는 것이 아닙니다. 그렇다면 ``myCallBack()``을 전달하고 그 인수를 포함하려면 어떻게 해야 할까요?

==== 올바른 방법

``myCallBack()``의 실행을 매개변수와 함께 지연시키기 위해 익명 함수를 래퍼로 사용할 수 있습니다. ``function() {``의 사용에 주목하세요. 익명 함수는 정확히 한 가지 일을 합니다: ``param1``과 ``param2``의 값으로 ``myCallBack()``을 호출합니다.

[source,javascript]
----
$.get( "myhtmlpage.html", function() {
 
    myCallBack( param1, param2 );
 
});
----

``$.get()``이 ``myhtmlpage.html`` 페이지를 가져오기를 완료하면 익명 함수를 실행하고, 이는 ``myCallBack( param1, param2 )``을 실행합니다.